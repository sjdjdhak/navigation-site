<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†ç±»IDç”Ÿæˆæµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            box-sizing: border-box;
        }
        input:focus {
            outline: none;
            border-color: #409eff;
            box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.2);
        }
        .suggestions {
            margin-top: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
        .suggestion-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
            font-weight: 500;
        }
        .tag {
            display: inline-block;
            padding: 6px 12px;
            margin: 4px;
            background: #e7f3ff;
            border: 1px solid #b3d8ff;
            color: #409eff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
        }
        .tag:hover {
            background: #409eff;
            color: white;
            transform: translateY(-1px);
        }
        .tag.selected {
            background: #409eff;
            color: white;
        }
        .validation {
            margin-top: 8px;
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
        }
        .validation.success {
            background: #f0f9ff;
            border: 1px solid #b3e5fc;
            color: #00695c;
        }
        .validation.error {
            background: #fff3f3;
            border: 1px solid #ffcdd2;
            color: #d32f2f;
        }
        .help-text {
            margin-top: 6px;
            font-size: 12px;
            color: #999;
        }
        .demo-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .demo-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        .demo-item {
            margin-bottom: 10px;
            padding: 8px;
            background: white;
            border-radius: 4px;
            border-left: 3px solid #409eff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ è‡ªå®šä¹‰åˆ†ç±»IDåŠŸèƒ½æ¼”ç¤º</h1>
        
        <div class="form-group">
            <label for="categoryName">åˆ†ç±»åç§°</label>
            <input type="text" id="categoryName" placeholder="è¯·è¾“å…¥åˆ†ç±»åç§°ï¼Œå¦‚ï¼šå‰ç«¯å¼€å‘ã€UIè®¾è®¡ç­‰">
        </div>
        
        <div class="form-group">
            <label for="categoryId">åˆ†ç±»ID</label>
            <input type="text" id="categoryId" placeholder="è¯·è¾“å…¥è‡ªå®šä¹‰åˆ†ç±»IDæˆ–ç‚¹å‡»ä¸‹æ–¹å»ºè®®">
            <div id="suggestions" class="suggestions" style="display: none;">
                <div class="suggestion-label">å»ºè®®çš„IDï¼š</div>
                <div id="suggestionsContainer"></div>
            </div>
            <div id="validation" class="validation" style="display: none;"></div>
            <div class="help-text">IDåªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦(-)ï¼Œç”¨äºURLå’ŒAPIè°ƒç”¨</div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹ï¼š</div>
            <div class="demo-item">âœ… <strong>æ™ºèƒ½å»ºè®®</strong>ï¼šæ ¹æ®ä¸­æ–‡åç§°è‡ªåŠ¨ç”Ÿæˆå¤šä¸ªå‹å¥½çš„IDé€‰é¡¹</div>
            <div class="demo-item">âœ… <strong>ä¸­æ–‡æ”¯æŒ</strong>ï¼šä¸­æ–‡è‡ªåŠ¨è½¬æ¢ä¸ºæ‹¼éŸ³ï¼Œç”Ÿæˆè§„èŒƒçš„è‹±æ–‡ID</div>
            <div class="demo-item">âœ… <strong>æ ¼å¼éªŒè¯</strong>ï¼šå®æ—¶æ£€æŸ¥IDæ ¼å¼ã€é•¿åº¦å’Œå”¯ä¸€æ€§</div>
            <div class="demo-item">âœ… <strong>æ‰‹åŠ¨ç¼–è¾‘</strong>ï¼šæ”¯æŒå®Œå…¨è‡ªå®šä¹‰ï¼Œä¸å—å»ºè®®é™åˆ¶</div>
            <div class="demo-item">âœ… <strong>å†²çªå¤„ç†</strong>ï¼šè‡ªåŠ¨æ£€æµ‹é‡å¤IDå¹¶æç¤º</div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">ğŸ“ ä½¿ç”¨è¯´æ˜ï¼š</div>
            <div class="demo-item">1. è¾“å…¥åˆ†ç±»åç§°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå»ºè®®ID</div>
            <div class="demo-item">2. ç‚¹å‡»ä»»æ„å»ºè®®æ ‡ç­¾å¿«é€Ÿé€‰æ‹©</div>
            <div class="demo-item">3. ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥å®Œå…¨è‡ªå®šä¹‰çš„ID</div>
            <div class="demo-item">4. ç³»ç»Ÿä¼šå®æ—¶éªŒè¯IDçš„æ ¼å¼å’Œå”¯ä¸€æ€§</div>
        </div>
    </div>

    <script>
        // ä¸­æ–‡è½¬æ‹¼éŸ³æ˜ å°„è¡¨
        const pinyinMap = {
            'è®¾': 'she', 'è®¡': 'ji', 'å¼€': 'kai', 'å‘': 'fa', 'ç¼–': 'bian', 'ç¨‹': 'cheng',
            'å‰': 'qian', 'ç«¯': 'duan', 'å': 'hou', 'ç§»': 'yi', 'åŠ¨': 'dong', 'ç½‘': 'wang',
            'ç«™': 'zhan', 'åº”': 'ying', 'ç”¨': 'yong', 'å·¥': 'gong', 'å…·': 'ju', 'å­¦': 'xue',
            'ä¹ ': 'xi', 'æ•™': 'jiao', 'å¨±': 'yu', 'ä¹': 'yue', 'æ¸¸': 'you',
            'æˆ': 'xi2', 'éŸ³': 'yin', 'è§†': 'shi', 'é¢‘': 'pin', 'å›¾': 'tu',
            'ç‰‡': 'pian', 'ç¤¾': 'she2', 'äº¤': 'jiao2', 'è´­': 'gou', 'ç‰©': 'wu', 'é‡‘': 'jin',
            'è': 'rong', 'è´¢': 'cai', 'ç»': 'jing', 'æ–°': 'xin', 'é—»': 'wen', 'èµ„': 'zi',
            'è®¯': 'xun', 'ç§‘': 'ke', 'æŠ€': 'ji2', 'æ•°': 'shu', 'ç ': 'ma', 'ç”µ': 'dian',
            'è„‘': 'nao', 'æ‰‹': 'shou', 'æœº': 'ji3', 'è½¯': 'ruan', 'ä»¶': 'jian', 'ç¡¬': 'ying',
            'åŠ': 'ban', 'å…¬': 'gong2', 'ç”Ÿ': 'sheng', 'æ´»': 'huo', 'æœ': 'fu', 'åŠ¡': 'wu2',
            'æ—…': 'lv', 'ç¾': 'mei', 'é£Ÿ': 'shi2', 'å¥': 'jian2', 'åº·': 'kang',
            'ä½“': 'ti', 'è‚²': 'yu2', 'è¿': 'yun', 'æ±½': 'qi', 'è½¦': 'che', 'æˆ¿': 'fang',
            'äº§': 'chan', 'è£…': 'zhuang', 'ä¿®': 'xiu', 'æ—¶': 'shi3', 'å°š': 'shang', 'æ¯': 'mu',
            'å©´': 'ying2', 'å® ': 'chong', 'èŠ±': 'hua', 'å‰': 'hui', 'æ‘„': 'she3', 'å½±': 'ying3'
        };

        // æ¨¡æ‹Ÿå·²å­˜åœ¨çš„IDåˆ—è¡¨
        const existingIds = ['frontend', 'backend', 'design', 'mobile', 'tools'];

        // ä¸­æ–‡è½¬æ‹¼éŸ³
        function convertToPinyin(text) {
            return text.split('').map(char => pinyinMap[char] || char).join('');
        }

        // ç”Ÿæˆå‹å¥½çš„ID
        function generateFriendlyId(name) {
            let converted = convertToPinyin(name);
            converted = converted.toLowerCase().replace(/[^a-z0-9\s-]/g, '');
            return converted.replace(/\s+/g, '-').replace(/-+/g, '-').replace(/^-+|-+$/g, '');
        }

        // ç”Ÿæˆå»ºè®®ID
        function generateSuggestions(name) {
            if (!name.trim()) return [];
            
            const suggestions = [];
            const basicId = generateFriendlyId(name);
            
            if (basicId) suggestions.push(basicId);
            
            // ç¼©å†™ç‰ˆæœ¬
            const words = name.split(/\s+/);
            if (words.length > 1) {
                const abbreviation = words.map(word => {
                    const firstChar = word.charAt(0);
                    return pinyinMap[firstChar] || firstChar.toLowerCase();
                }).join('');
                if (abbreviation) suggestions.push(abbreviation);
            }
            
            // ç®€çŸ­ç‰ˆæœ¬
            if (basicId && basicId.length > 8) {
                const shortVersion = basicId.split('-')[0];
                if (shortVersion && shortVersion.length >= 3) {
                    suggestions.push(shortVersion);
                }
            }
            
            // æ·»åŠ ç¼–å·ç‰ˆæœ¬
            if (basicId) {
                suggestions.push(`${basicId}-1`);
                suggestions.push(`${basicId}-v1`);
            }
            
            return [...new Set(suggestions)].filter(Boolean).slice(0, 6);
        }

        // éªŒè¯ID
        function validateId(id) {
            if (!id) return { valid: true, message: '' };
            
            const formatRegex = /^[a-z0-9-]+$/;
            if (!formatRegex.test(id)) {
                return { valid: false, message: 'IDåªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦(-)' };
            }
            
            if (id.length < 2) {
                return { valid: false, message: 'IDé•¿åº¦è‡³å°‘ä¸º2ä¸ªå­—ç¬¦' };
            }
            
            if (id.length > 50) {
                return { valid: false, message: 'IDé•¿åº¦ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦' };
            }
            
            if (id.startsWith('-') || id.endsWith('-') || id.includes('--')) {
                return { valid: false, message: 'IDä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´æˆ–ç»“å°¾ï¼Œä¹Ÿä¸èƒ½åŒ…å«è¿ç»­çš„è¿å­—ç¬¦' };
            }
            
            if (existingIds.includes(id)) {
                return { valid: false, message: 'è¯¥IDå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–ID' };
            }
            
            return { valid: true, message: 'IDæ ¼å¼æ­£ç¡®ä¸”å”¯ä¸€' };
        }

        // DOM å…ƒç´ 
        const nameInput = document.getElementById('categoryName');
        const idInput = document.getElementById('categoryId');
        const suggestionsDiv = document.getElementById('suggestions');
        const suggestionsContainer = document.getElementById('suggestionsContainer');
        const validationDiv = document.getElementById('validation');

        // åç§°è¾“å…¥äº‹ä»¶
        nameInput.addEventListener('input', function() {
            const name = this.value.trim();
            if (name) {
                const suggestions = generateSuggestions(name);
                displaySuggestions(suggestions);
                
                // å¦‚æœIDä¸ºç©ºï¼Œè‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªå»ºè®®
                if (!idInput.value && suggestions.length > 0) {
                    idInput.value = suggestions[0];
                    validateIdInput();
                }
            } else {
                hideSuggestions();
            }
        });

        // IDè¾“å…¥äº‹ä»¶
        idInput.addEventListener('input', validateIdInput);

        // æ˜¾ç¤ºå»ºè®®
        function displaySuggestions(suggestions) {
            if (suggestions.length === 0) {
                hideSuggestions();
                return;
            }
            
            suggestionsContainer.innerHTML = suggestions.map(suggestion => 
                `<span class="tag" onclick="selectSuggestion('${suggestion}')">${suggestion}</span>`
            ).join('');
            
            suggestionsDiv.style.display = 'block';
        }

        // éšè—å»ºè®®
        function hideSuggestions() {
            suggestionsDiv.style.display = 'none';
        }

        // é€‰æ‹©å»ºè®®
        function selectSuggestion(suggestion) {
            idInput.value = suggestion;
            validateIdInput();
            
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.tag').forEach(tag => {
                tag.classList.toggle('selected', tag.textContent === suggestion);
            });
        }

        // éªŒè¯IDè¾“å…¥
        function validateIdInput() {
            const id = idInput.value.trim();
            const result = validateId(id);
            
            if (!id) {
                validationDiv.style.display = 'none';
                return;
            }
            
            validationDiv.style.display = 'block';
            validationDiv.className = `validation ${result.valid ? 'success' : 'error'}`;
            validationDiv.textContent = result.message;
        }

        // åˆå§‹åŒ–ç¤ºä¾‹
        window.addEventListener('load', function() {
            // å¯ä»¥é¢„è®¾ä¸€äº›ç¤ºä¾‹
            setTimeout(() => {
                nameInput.value = 'å‰ç«¯å¼€å‘';
                nameInput.dispatchEvent(new Event('input'));
            }, 1000);
        });
    </script>
</body>
</html> 